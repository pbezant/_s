/*!
Theme Name: _p
Theme URI: http://prestonbezant.com
Author: pbezant
Author URI: http://prestonbezant.com
Description: 
Version: 1.3-wpcom
License: GNU General Public License v2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Text Domain: _p
Domain Path: /languages/
Tags:

This theme, like WordPress, is licensed under the GPL.
Use it to make something cool, have fun, and share what you've learned with others.

 _p is based on Underscores http://underscores.me/, (C) 2012-2013 Automattic, Inc.

Resetting and rebuilding styles have been helped along thanks to the fine work of
Eric Meyer http://meyerweb.com/eric/tools/css/reset/index.html
along with Nicolas Gallagher and Jonathan Neal http://necolas.github.com/normalize.css/
and Blueprint http://www.blueprintcss.org/
*/


@import "reset";
@import "_global";

$header-height: 18rem;
$footer-height: $header-height;
body{

	header.site-header{
		position:fixed;
		max-height: $footer-height;
		width:100%;

		padding:4rem 0;
		z-index: 1;
		/*.header-overlay{
			background-color:rgba(0,0,0,0.25);
			position:absolute;
			top:0;
			left:0;
			display: block;
			width:100%;
			height: 100%;
		}
		*/	
		nav{
			&.main-navigation{
				text-align: right;
				float:right;
				width:auto;
				margin:0 1.5rem;
				ul.nav-menu{
					@include horizontal-list-container;
					> li{
						@include horizontal-list-item(0.5rem, right);
						a{
							color: inherit;
						}
					}
				}

			}
		}
		.site-branding{
			position: absolute;
			bottom: 4rem;
			margin:1.5rem;
			text-align: center;
			h1, h2{
				@include single-text-shadow(1px 1px 10px #777777);
			}
			
			h1{
				font-size: 4rem;
				a{
					color:none;
					text-decoration: none;
				}
			}
			h2{
				font-size: 2rem;
			}
			@include breakpoint(large){
			}
		}
	}

	#primary{
		position: relative;
		margin:$footer-height+3 0 $header-height;/*footer:bottom + #secondary:bottom*/
		padding:1rem 0;
		@include single-box-shadow(rgba(51, 51, 51, 0.5), 0, 0rem, 1.5rem, 1rem, false);
		z-index: 1;
		main{
			padding:1em;
			width:100%;
			min-height: 55rem;
			img{
				background:#fff;
			}
			
			article, nav.post-navigation, #comments{
				//background-color:rgba(255, 255, 255, 0.8);
				background-color:rgba(0,0,0,0.4);
				padding:1rem 1rem 0;
				color:#ddd;
			}

		}
	}

	#secondary.widget-area, footer.site-footer{
		position:fixed;
		max-height: $footer-height;
		width:100%;
		bottom:2em;
		left:0;
		padding-top:1rem;
		aside{
			float:left;
			&#search{
				width:100%;
				clear:both;
			}
		}
	}
	footer{
		&.site-footer{
			bottom:1em;

		}
	}
	
}


body.home article, body.gallery img{
	width:45%;
	min-width: 15rem;
	margin:0.5%;
	position: relative;
	float:left;
	z-index: 2;

	@include breakpoint(medium){
		width:30%;
	}
}
//body.single-format-gallery
body.home {
	#primary{
		main.site-main{
			padding:0 !important;
			
			article{
				background-color:transparent;
				h1{
					text-align: center;
					vertical-align: middle;
					line-height: 1em;
					font-size:3rem;
					position:relative;
					top:30%;
					text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.6);
					@include force-wrap;
				}
				#excerpt{
					padding:1em 0;
					background: none repeat scroll 0 0 rgb(107, 112, 119);
					font-size: 1.5rem;
					line-height: 1.5em;
					p{
						padding:0 1em;
					}
				}

			}
		}
	}
		.panel{
			display: block;
			width: 100%;
			height: 100%;
			font-size: 1rem;
			-webkit-perspective: 600px;
		    -moz-perspective: 600px;
		    .front, .back{
		    	border:1px solid #444;
		    }
		    &:hover{
		    	.front{
		    		z-index: 900;   
				    background: none repeat scroll 0 0 rgb(51, 51, 51);
				    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
				    -webkit-transform: rotateY(180deg);
				    -moz-transform: rotateY(180deg);
		    	}
		    	.back{
					z-index: 1000;
					background: none repeat scroll 0 0 rgb(128, 134, 141);
				    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
				    -webkit-transform: rotateX(0deg) rotateY(0deg);
				    -moz-transform: rotateX(0deg) rotateY(0deg);
		    	}
		    }
		    a{
				text-decoration:none;
				color:inherit;
				font:inherit;
				&:hover{
					color: inherit;
				}

			}
		    .front {
				position: absolute;
				float: none;
			    left: 0;
			    top: 0;
			    z-index: 900;
				width:100%;
				height:100%;
				background: none repeat scroll 0 0 rgb(107, 112, 119);
				-moz-box-sizing:border-box;
				-webkit-box-sizing:border-box;
				-o-box-sizing:border-box;
				box-sizing:border-box;
				box-shadow: 0 1px 5px rgba(0, 0, 0, 0.9);
				
			    -moz-backface-visibility: hidden;
			    -moz-transform: rotateX(0deg) rotateY(0deg);
			    -moz-transform-style: preserve-3d;
			    -moz-transition: all 0.4s ease-in-out 0s;

			    -webkit-backface-visibility: hidden;
			    -webkit-transform: rotateX(0deg) rotateY(0deg);
			    -webkit-transform-style: preserve-3d;
			    -webkit-transition: all 0.4s ease-in-out 0s;
				img{
					width:100%;
					height:100%;
					box-sizing:border-box;
				}
			} 
			.back {
				left: 0;
				top: 0;
				z-index: 800;
				float: none;
			    height: inherit;
			    width: inherit;
			    border: 1px solid rgb(204, 204, 204);
			    background: none repeat scroll 0 0 rgb(51, 51, 51);
			   
			    -moz-backface-visibility: hidden;
			    -moz-transform: rotateY(-180deg);
			    -moz-transform-style: preserve-3d;
			    -moz-transition: all 0.4s ease-in-out 0s;
			    
			    -webkit-backface-visibility: hidden;
			    -webkit-transform: rotateY(-180deg);
			    -webkit-transform-style: preserve-3d;
			    -webkit-transition: all 0.4s ease-in-out 0s;
			}
			&.flip{
				.front{
					z-index: 900;   
				    background: none repeat scroll 0 0 rgb(51, 51, 51);
				    border-color: rgb(238, 238, 238);
				    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
				    -webkit-transform: rotateY(180deg);
				    -moz-transform: rotateY(180deg);
				}
				.back {
					z-index: 1000;
					background: none repeat scroll 0 0 rgb(128, 134, 141);
				    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
				    -webkit-transform: rotateX(0deg) rotateY(0deg);
				    -moz-transform: rotateX(0deg) rotateY(0deg);
				}
			}
		}
	}
/**** Isotope Filtering ****/

.isotope-item {
  z-index: 2;
}

.isotope-hidden.isotope-item {
  pointer-events: none;
  z-index: 1;
}

/**** Isotope CSS3 transitions ****/

.isotope,
.isotope .isotope-item {
  -webkit-transition-duration: 0.8s;
     -moz-transition-duration: 0.8s;
      -ms-transition-duration: 0.8s;
       -o-transition-duration: 0.8s;
          transition-duration: 0.8s;
}

.isotope {
  -webkit-transition-property: height, width;
     -moz-transition-property: height, width;
      -ms-transition-property: height, width;
       -o-transition-property: height, width;
          transition-property: height, width;
}

.isotope .isotope-item {
  -webkit-transition-property: -webkit-transform, opacity;
     -moz-transition-property:    -moz-transform, opacity;
      -ms-transition-property:     -ms-transform, opacity;
       -o-transition-property:      -o-transform, opacity;
          transition-property:         transform, opacity;
}

/**** disabling Isotope CSS3 transitions ****/

.isotope.no-transition,
.isotope.no-transition .isotope-item,
.isotope .isotope-item.no-transition {
  -webkit-transition-duration: 0s;
     -moz-transition-duration: 0s;
      -ms-transition-duration: 0s;
       -o-transition-duration: 0s;
          transition-duration: 0s;
}
/*** End Isotope ***/
